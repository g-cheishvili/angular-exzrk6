{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, ViewChild, HostListener, Directive, ContentChild, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { KeyUtil } from '@fundamental-ngx/cdk/utils';\nimport { TAB } from '@angular/cdk/keycodes';\nconst _c0 = [\"fakeFocusElement\"];\nfunction BusyIndicatorComponent_ng_container_1_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.label);\n  }\n}\nfunction BusyIndicatorComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1, 2);\n    i0.ɵɵelement(3, \"div\", 3)(4, \"div\", 3)(5, \"div\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, BusyIndicatorComponent_ng_container_1_span_6_Template, 2, 1, \"span\", 4);\n    i0.ɵɵelement(7, \"div\", 5);\n    i0.ɵɵelementStart(8, \"div\", 6, 7);\n    i0.ɵɵlistener(\"focusin\", function BusyIndicatorComponent_ng_container_1_Template_div_focusin_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.fakeElementFocusHandler($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(2);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"fd-busy-indicator--l\", ctx_r0.size === \"l\")(\"fd-busy-indicator--m\", ctx_r0.size === \"m\")(\"fd-busy-indicator--s\", ctx_r0.size === \"s\")(\"fd-busy-indicator--absolute\", _r1 == null ? null : _r1.previousElementSibling);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"fd-busy-indicator__overlay--transparent\", !(_r1 == null ? null : _r1.previousElementSibling));\n  }\n}\nconst _c1 = [\"*\"];\nconst FD_BUSY_INDICATOR_COMPONENT = new InjectionToken('FdBusyIndicatorComponent');\nlet BusyIndicatorComponent = /*#__PURE__*/(() => {\n  class BusyIndicatorComponent {\n    /** @hidden */\n    constructor(_elementRef) {\n      this._elementRef = _elementRef;\n      /** The size of the loading indicator, default will be medium */\n      this.size = 'm';\n      /** Whether to use loader as block element */\n      this.block = false;\n      /** Aria live attribute value. */\n      this.ariaLive = 'polite';\n    }\n    /** @hidden If focus escapes busy container focus element after wrapped content */\n    hostFocusChangeHandler(event) {\n      if (this.loading && KeyUtil.isKeyCode(event, TAB) && !event.shiftKey) {\n        this.fakeFocusElement.nativeElement.focus();\n      }\n    }\n    /** @hidden If busy container is navigated as \"previous focusable element\",\n     * focus busy indicator to prevent from focusing wrapped content */\n    fakeElementFocusHandler(event) {\n      if (this.loading && event.relatedTarget !== this._elementRef.nativeElement) {\n        event.stopPropagation();\n        this._elementRef.nativeElement.focus();\n      }\n    }\n  }\n  BusyIndicatorComponent.ɵfac = function BusyIndicatorComponent_Factory(t) {\n    return new (t || BusyIndicatorComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  BusyIndicatorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BusyIndicatorComponent,\n    selectors: [[\"fd-busy-indicator\"]],\n    viewQuery: function BusyIndicatorComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fakeFocusElement = _t.first);\n      }\n    },\n    hostVars: 10,\n    hostBindings: function BusyIndicatorComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown\", function BusyIndicatorComponent_keydown_HostBindingHandler($event) {\n          return ctx.hostFocusChangeHandler($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"role\", ctx.loading ? \"progressbar\" : \"presentation\")(\"tabindex\", ctx.loading ? 0 : -1)(\"aria-busy\", ctx.loading)(\"aria-live\", ctx.ariaLive)(\"aria-label\", ctx.ariaLabel)(\"title\", ctx.title);\n        i0.ɵɵclassProp(\"fd-busy-indicator__container\", true)(\"fd-busy-indicator__container--inline\", !ctx.block);\n      }\n    },\n    inputs: {\n      loading: \"loading\",\n      size: \"size\",\n      block: \"block\",\n      ariaLabel: \"ariaLabel\",\n      title: \"title\",\n      label: \"label\",\n      ariaLive: \"ariaLive\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: FD_BUSY_INDICATOR_COMPONENT,\n      useExisting: BusyIndicatorComponent\n    }])],\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"fd-busy-indicator\"], [\"busyIndicator\", \"\"], [1, \"fd-busy-indicator__circle\"], [\"class\", \"fd-busy-indicator-extended__label\", 4, \"ngIf\"], [1, \"fd-busy-indicator__overlay\"], [\"tabindex\", \"0\", \"aria-hidden\", \"true\", 3, \"focusin\"], [\"fakeFocusElement\", \"\"], [1, \"fd-busy-indicator-extended__label\"]],\n    template: function BusyIndicatorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵtemplate(1, BusyIndicatorComponent_ng_container_1_Template, 10, 11, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    dependencies: [i1.NgIf],\n    styles: [\"/*!\\n * Fundamental Library Styles v0.28.3\\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\\n */.fd-busy-indicator{--Dot_Color:var(--fdBusy_Indicator_Dot_Color);--Dot_Size:.5rem;-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--Dot_Color);display:block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-size:0;font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0;position:relative;text-align:center}.fd-busy-indicator--contrast{--Dot_Color:var(--fdBusy_Indicator_Dot_Contrast_Color)}.fd-busy-indicator--m{--Dot_Size:1rem}.fd-busy-indicator--l{--Dot_Size:2rem}.fd-busy-indicator:after,.fd-busy-indicator:before{box-sizing:inherit;font-size:inherit}.fd-busy-indicator-extended{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:flex;flex-direction:column;justify-content:center}.fd-busy-indicator-extended.fd-busy-indicator-extended--message-toast{-webkit-box-shadow:var(--sapContent_Shadow2);background-color:var(--sapPageFooter_Background);box-shadow:var(--sapContent_Shadow2);max-width:23.125rem;text-shadow:var(--sapContent_TextShadow);width:23.125rem}.fd-busy-indicator-extended__label{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapPageFooter_TextColor);display:block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:1rem 0 0;padding:0;text-align:center}.fd-busy-indicator-extended__label:after,.fd-busy-indicator-extended__label:before{box-sizing:inherit;font-size:inherit}.fd-busy-indicator__circle{-webkit-box-sizing:border-box;animation:grow 1.6s cubic-bezier(.32,.06,.85,1.11) infinite;background-color:currentColor;border:0;border-radius:50%;box-sizing:border-box;color:var(--sapTextColor);color:var(--Dot_Color);display:inline-block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:var(--Dot_Size);line-height:var(--sapContent_LineHeight);margin:0;padding:0;position:relative;width:var(--Dot_Size)}.fd-busy-indicator__circle:after,.fd-busy-indicator__circle:before{box-sizing:inherit;font-size:inherit}.fd-busy-indicator__circle:nth-child(2){animation-delay:.2s}.fd-busy-indicator__circle:nth-child(3){animation-delay:.4s}@keyframes grow{0%,50%,to{transform:scale(.5)}25%{transform:scale(1)}}.fd-busy-indicator{z-index:2}.fd-busy-indicator--absolute{white-space:nowrap;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.fd-busy-indicator__container{display:block;position:relative}.fd-busy-indicator__container:focus{outline-width:var(--sapContent_FocusWidth, .0625rem);outline-color:var(--sapContent_FocusColor, #000);outline-style:var(--sapContent_FocusStyle, dotted)}.fd-busy-indicator__container[tabindex=\\\"-1\\\"]{outline:none}.fd-busy-indicator__container--inline{display:inline-block}.fd-busy-indicator__overlay{position:absolute;inset:0;z-index:1;background-color:var(--sapBaseColor);opacity:.72}.fd-busy-indicator__overlay--transparent{background-color:transparent}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return BusyIndicatorComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst messageToastClass = 'fd-message-toast';\nlet BusyIndicatorExtendedDirective = /*#__PURE__*/(() => {\n  class BusyIndicatorExtendedDirective {\n    /** @hidden */\n    constructor(_eleRef) {\n      this._eleRef = _eleRef;\n    }\n    /** @hidden */\n    ngAfterContentInit() {\n      this._appendCssToParent();\n    }\n    /** @hidden */\n    elementRef() {\n      return this._eleRef;\n    }\n    /** @hidden */\n    _appendCssToParent() {\n      const hasLabel = this.busyIndicator.label;\n      if (!hasLabel) {\n        return;\n      }\n      const classList = this._eleRef.nativeElement.parentElement?.classList;\n      if (classList) {\n        classList.add('fd-busy-indicator-extended');\n        if (classList.contains(messageToastClass)) {\n          classList.add('fd-busy-indicator-extended--message-toast');\n        }\n      }\n    }\n  }\n  BusyIndicatorExtendedDirective.ɵfac = function BusyIndicatorExtendedDirective_Factory(t) {\n    return new (t || BusyIndicatorExtendedDirective)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  BusyIndicatorExtendedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: BusyIndicatorExtendedDirective,\n    selectors: [[\"\", \"fd-busy-indicator-extended\", \"\"]],\n    contentQueries: function BusyIndicatorExtendedDirective_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, FD_BUSY_INDICATOR_COMPONENT, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.busyIndicator = _t.first);\n      }\n    }\n  });\n  return BusyIndicatorExtendedDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BusyIndicatorModule = /*#__PURE__*/(() => {\n  class BusyIndicatorModule {}\n  BusyIndicatorModule.ɵfac = function BusyIndicatorModule_Factory(t) {\n    return new (t || BusyIndicatorModule)();\n  };\n  BusyIndicatorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BusyIndicatorModule\n  });\n  BusyIndicatorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule]\n  });\n  return BusyIndicatorModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BusyIndicatorComponent, BusyIndicatorExtendedDirective, BusyIndicatorModule, FD_BUSY_INDICATOR_COMPONENT };\n//# sourceMappingURL=fundamental-ngx-core-busy-indicator.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}